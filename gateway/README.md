# LilFox API Gateway

é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„ç»Ÿä¸€APIç½‘å…³æœåŠ¡

## ğŸ“ ç›®å½•ç»“æ„

```
gateway/
â”œâ”€â”€ main.py                      # ç½‘å…³ä¸»å…¥å£
â”œâ”€â”€ config/                      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py             # é…ç½®ç±»
â”‚   â””â”€â”€ service_registry.py    # æœåŠ¡æ³¨å†Œè¡¨
â”œâ”€â”€ core/                        # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ service_discovery.py    # æœåŠ¡å‘ç°
â”‚   â”œâ”€â”€ load_balancer.py        # è´Ÿè½½å‡è¡¡
â”‚   â”œâ”€â”€ router.py               # è¯·æ±‚è·¯ç”±
â”‚   â”œâ”€â”€ auth.py                 # è®¤è¯æˆæƒ
â”‚   â”œâ”€â”€ rate_limiter.py         # é™æµ
â”‚   â”œâ”€â”€ circuit_breaker.py      # ç†”æ–­å™¨
â”‚   â””â”€â”€ transformer.py          # è¯·æ±‚/å“åº”è½¬æ¢
â”œâ”€â”€ middleware/                  # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ logging.py              # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ metrics.py              # æŒ‡æ ‡æ”¶é›†
â”‚   â”œâ”€â”€ cors.py                 # CORSå¤„ç†
â”‚   â””â”€â”€ error_handler.py        # é”™è¯¯å¤„ç†
â”œâ”€â”€ monitoring/                  # ç›‘æ§æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ metrics.py              # æŒ‡æ ‡å®šä¹‰
â”‚   â”œâ”€â”€ health_check.py         # å¥åº·æ£€æŸ¥
â”‚   â””â”€â”€ logger.py               # æ—¥å¿—è®°å½•
â”œâ”€â”€ utils/                       # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ http_client.py          # HTTPå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ cache.py                # ç¼“å­˜å·¥å…·
â”‚   â””â”€â”€ helpers.py              # è¾…åŠ©å‡½æ•°
â”œâ”€â”€ scripts/                     # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ start_all.py            # ä¸€é”®å¯åŠ¨
â”‚   â”œâ”€â”€ stop_all.py             # ä¸€é”®åœæ­¢
â”‚   â””â”€â”€ health_check.py         # å¥åº·æ£€æŸ¥
â”œâ”€â”€ tests/                       # æµ‹è¯•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_gateway.py         # ç½‘å…³æµ‹è¯•
â”‚   â”œâ”€â”€ test_load_balancer.py   # è´Ÿè½½å‡è¡¡æµ‹è¯•
â”‚   â””â”€â”€ stress_test.py          # å‹åŠ›æµ‹è¯•
â”œâ”€â”€ docs/                        # æ–‡æ¡£
â”‚   â”œâ”€â”€ api.md                  # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ deployment.md           # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ operations.md           # è¿ç»´æ‰‹å†Œ
â”œâ”€â”€ requirements.txt             # ä¾èµ–æ–‡ä»¶
â”œâ”€â”€ .env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ README.md                   # è¯´æ˜æ–‡æ¡£
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- âœ… æœåŠ¡æ³¨å†Œä¸å‘ç°
- âœ… åŠ¨æ€è·¯ç”±
- âœ… è´Ÿè½½å‡è¡¡ï¼ˆè½®è¯¢ã€éšæœºã€æœ€å°‘è¿æ¥ï¼‰
- âœ… è®¤è¯æˆæƒï¼ˆJWTã€API Keyï¼‰
- âœ… é™æµï¼ˆä»¤ç‰Œæ¡¶ã€æ¼æ¡¶ï¼‰
- âœ… ç†”æ–­å™¨
- âœ… è¯·æ±‚/å“åº”è½¬æ¢
- âœ… æ—¥å¿—ç›‘æ§
- âœ… æŒ‡æ ‡æ”¶é›†
- âœ… å¥åº·æ£€æŸ¥
- âœ… ä¸€é”®å¯åŠ¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
python scripts/start_all.py

# è®¿é—®ç½‘å…³
curl http://localhost:8080/
```

## ğŸ“Š æ¶æ„è®¾è®¡

```
å®¢æˆ·ç«¯è¯·æ±‚
    â†“
[è®¤è¯ä¸­é—´ä»¶] â†’ [é™æµä¸­é—´ä»¶] â†’ [ç†”æ–­å™¨]
    â†“
[è·¯ç”±å¼•æ“] â†’ [è´Ÿè½½å‡è¡¡å™¨] â†’ [æœåŠ¡å‘ç°]
    â†“
[è¯·æ±‚è½¬æ¢] â†’ [åç«¯æœåŠ¡] â†’ [å“åº”è½¬æ¢]
    â†“
[æ—¥å¿—è®°å½•] â†’ [æŒ‡æ ‡æ”¶é›†]
    â†“
å“åº”è¿”å›
```
